<!DOCTYPE html>
<html lang="en-us">

<head>

  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="generator" content="Source Themes Academia 4.3.1">
  <meta name="generator" content="Hugo 0.59.1" />

  

  
  
  
  
  
    
    
    
  
  

  <meta name="author" content="Little Dragon">

  
  
  
    
  
  <meta name="description" content="In Chapter 2, we looked in detail at methods and tools to access, set, and modify values in NumPy arrays. These included indexing (e.g., arr[2, 1]), slicing (e.g., arr[:, 1:5]), masking (e.g., arr[arr &gt; 0]), fancy indexing (e.g., arr[0, [1, 5]]), and combinations thereof (e.g., arr[:, [1, 5]]). Here we&rsquo;ll look at similar means of accessing and modifying values in Pandas Series and DataFrame objects. If you have used the NumPy patterns, the corresponding patterns in Pandas will feel very familiar, though there are a few quirks to be aware of.">

  
  <link rel="alternate" hreflang="en-us" href="https://dragon-library.github.io/coding/tutorials/data-science-handbook/3.pandas/03.02-data-indexing-and-selection/">

  


  

  
  
  
  <meta name="theme-color" content="#c7254e">
  

  
  
  
  
    
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/academicons/1.8.6/css/academicons.min.css" integrity="sha256-uFVgMKfistnJAfoCUQigIl+JfUaP47GrRKjf6CTPVmw=" crossorigin="anonymous">
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.6.0/css/all.css" integrity="sha384-aOkxzJ5uQz7WBObEZcHvV5JvRW3TUc2rNPA7pe3AwnsUohiw1Vj2Rgx2KSOkF5+h" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/fancybox/3.2.5/jquery.fancybox.min.css" integrity="sha256-ygkqlh3CYSUri3LhQxzdcm0n1EQvH2Y+U5S2idbLtxs=" crossorigin="anonymous">

    
    
    
      
    
    
      
      
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.15.6/styles/github.min.css" crossorigin="anonymous" title="hl-light">
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.15.6/styles/github.min.css" crossorigin="anonymous" title="hl-dark" disabled>
      
    

    

    

  

  
  
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Kanit:400,700|Sarabun|Roboto&display=swap">
  

  
  
  
  <link rel="stylesheet" href="/coding/css/academia.min.ff05a21b53038f9dccb7f30aedbfb6d7.css">

  

  
  
  

  

  <link rel="manifest" href="/coding/site.webmanifest">
  <link rel="icon" type="image/png" href="/coding/img/icon.png">
  <link rel="apple-touch-icon" type="image/png" href="/coding/img/icon-192.png">

  <link rel="canonical" href="https://dragon-library.github.io/coding/tutorials/data-science-handbook/3.pandas/03.02-data-indexing-and-selection/">

  
  
  
  
    
    
  
  <meta property="twitter:card" content="summary">
  
  <meta property="og:site_name" content="Library">
  <meta property="og:url" content="https://dragon-library.github.io/coding/tutorials/data-science-handbook/3.pandas/03.02-data-indexing-and-selection/">
  <meta property="og:title" content="Data Indexing and Selection | Library">
  <meta property="og:description" content="In Chapter 2, we looked in detail at methods and tools to access, set, and modify values in NumPy arrays. These included indexing (e.g., arr[2, 1]), slicing (e.g., arr[:, 1:5]), masking (e.g., arr[arr &gt; 0]), fancy indexing (e.g., arr[0, [1, 5]]), and combinations thereof (e.g., arr[:, [1, 5]]). Here we&rsquo;ll look at similar means of accessing and modifying values in Pandas Series and DataFrame objects. If you have used the NumPy patterns, the corresponding patterns in Pandas will feel very familiar, though there are a few quirks to be aware of."><meta property="og:image" content="https://dragon-library.github.io/coding/img/icon-192.png">
  <meta property="twitter:image" content="https://dragon-library.github.io/coding/img/icon-192.png"><meta property="og:locale" content="en-us">
  
  <meta property="article:published_time" content="2020-06-18T00:00:00&#43;00:00">
  
  <meta property="article:modified_time" content="2020-06-19T01:41:59&#43;07:00">
  

  


  





  <title>Data Indexing and Selection | Library</title>

</head>


<body id="top" data-spy="scroll" data-target="#TableOfContents" data-offset="71" >

  <aside class="search-results" id="search">
  <div class="container">
    <section class="search-header">

      <div class="row no-gutters justify-content-between mb-3">
        <div class="col-6">
          <h1>Search</h1>
        </div>
        <div class="col-6 col-search-close">
          <a class="js-search" href="#"><i class="fas fa-times-circle text-muted" aria-hidden="true"></i></a>
        </div>
      </div>

      <div id="search-box">
        
        <input name="q" id="search-query" placeholder="Search..." autocapitalize="off"
        autocomplete="off" autocorrect="off" role="textbox" spellcheck="false" type="search">
        
      </div>

    </section>
    <section class="section-search-results">

      <div id="search-hits">
        
      </div>

    </section>
  </div>
</aside>


  
<nav class="navbar navbar-light fixed-top navbar-expand-lg py-0" id="navbar-main">
  <div class="container">

    
      <a class="navbar-brand" href="/coding/">Library</a>
      
      <button type="button" class="navbar-toggler" data-toggle="collapse" data-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation"><span><i class="fas fa-bars"></i></span>
      </button>
      

    
    <div class="collapse navbar-collapse" id="navbar">

      
      
      <ul class="navbar-nav ml-auto">
        

        

        
        
        
          
        

        
        
        
        
        
        
          
          
          
            
          
          
        

        <li class="nav-item">
          <a class="nav-link " href="/coding/#about"><span>Home</span></a>
        </li>

        
        

        

        
        
        
          
        

        
        
        
        
        
        

        <li class="nav-item">
          <a class="nav-link " href="/coding/python/"><span>Python</span></a>
        </li>

        
        

        

        
        
        
          
        

        
        
        
        
        
        
          
          
          
            
          
          
        

        <li class="nav-item">
          <a class="nav-link " href="/coding/#posts"><span>Posts</span></a>
        </li>

        
        

        

        
        
        
          
        

        
        
        
        
        
        

        <li class="nav-item">
          <a class="nav-link  active" href="/coding/tutorials/"><span>Tutorials</span></a>
        </li>

        
        

        

        
        
        
          
        

        
        
        
        
        
        
          
          
          
            
          
          
        

        <li class="nav-item">
          <a class="nav-link " href="/coding/#publications"><span>Publications</span></a>
        </li>

        
        

        

        
        
        
          
        

        
        
        
        
        
        

        <li class="nav-item">
          <a class="nav-link  active" href="/coding/book/"><span>Book</span></a>
        </li>

        
        

        

        
        
        
          
        

        
        
        
        
        
        

        <li class="nav-item">
          <a class="nav-link " href="/coding/courses/"><span>Courses</span></a>
        </li>

        
        

        

        
        
        
          
        

        
        
        
        
        
        
          
          
          
            
          
          
        

        <li class="nav-item">
          <a class="nav-link " href="/coding/#contact"><span>Contact</span></a>
        </li>

        
        

      

        

        
        <li class="nav-item">
          <a class="nav-link js-search" href="#"><i class="fas fa-search" aria-hidden="true"></i></a>
        </li>
        

        

        
        <li class="nav-item">
          <a class="nav-link js-dark-toggle" href="#"><i class="fas fa-moon" aria-hidden="true"></i></a>
        </li>
        

      </ul>

    </div>
  </div>
</nav>


  

<div class="container-fluid docs">
  <div class="row flex-xl-nowrap">
    <div class="col-12 col-md-3 col-xl-2 docs-sidebar">
      





<form class="docs-search d-flex align-items-center">
  <button class="btn docs-toggle d-md-none p-0 mr-3" type="button" data-toggle="collapse" data-target="#docs-nav" aria-controls="docs-nav" aria-expanded="false" aria-label="Toggle section navigation">
    <span><i class="fas fa-bars"></i></span>
  </button>

  
  <input name="q" type="search" class="form-control" id="search-query" placeholder="Search..." autocomplete="off">
  
</form>

<nav class="collapse docs-links" id="docs-nav">
  
  
  <div class="docs-toc-item">
    <a class="docs-toc-link" href="/coding/tutorials/data-science-handbook/intro/_index/">DS Handbook</a>
    <ul class="nav docs-sidenav">
      
      <li >
        <a href="/coding/tutorials/data-science-handbook/intro/00.00-preface/">Preface</a>
      </li>
      
    </ul>
    

  </div>
  
  <div class="docs-toc-item">
    <a class="docs-toc-link" href="/coding/tutorials/data-science-handbook/1.ipython/main/">1. IPython</a>
    <ul class="nav docs-sidenav">
      
      <li >
        <a href="/coding/tutorials/data-science-handbook/1.ipython/main/">Beyond Normal</a>
      </li>
      
      <li >
        <a href="/coding/tutorials/data-science-handbook/1.ipython/01.01-help-and-documentation/">Help and Documentation</a>
      </li>
      
      <li >
        <a href="/coding/tutorials/data-science-handbook/1.ipython/01.02-shell-keyboard-shortcuts/">Keyboard Shortcuts</a>
      </li>
      
    </ul>
    

  </div>
  
  <div class="docs-toc-item">
    <a class="docs-toc-link" href="/coding/tutorials/data-science-handbook/3.pandas/intro/">3. Pandas</a>
    <ul class="nav docs-sidenav">
      
      <li >
        <a href="/coding/tutorials/data-science-handbook/3.pandas/intro/">Introducing</a>
      </li>
      
      <li class="active">
        <a href="/coding/tutorials/data-science-handbook/3.pandas/03.02-data-indexing-and-selection/">Data Indexing and Selection</a>
      </li>
      
      <li >
        <a href="/coding/tutorials/data-science-handbook/3.pandas/03.03-operations-in-pandas/">Operating on Data</a>
      </li>
      
      <li >
        <a href="/coding/tutorials/data-science-handbook/3.pandas/03.04-missing-values/">Handling Missing Data</a>
      </li>
      
      <li >
        <a href="/coding/tutorials/data-science-handbook/3.pandas/03.05-hierarchical-indexing/">Hierarchical Indexing</a>
      </li>
      
      <li >
        <a href="/coding/tutorials/data-science-handbook/3.pandas/03.06-concat-and-append/">Concat and Append</a>
      </li>
      
      <li >
        <a href="/coding/tutorials/data-science-handbook/3.pandas/03.07-merge-and-join/">Merge and Join</a>
      </li>
      
      <li >
        <a href="/coding/tutorials/data-science-handbook/3.pandas/03.08-aggregation-and-grouping/">Grouping</a>
      </li>
      
      <li >
        <a href="/coding/tutorials/data-science-handbook/3.pandas/03.09-pivot-tables/">Pivot Tables</a>
      </li>
      
      <li >
        <a href="/coding/tutorials/data-science-handbook/3.pandas/03.10-working-with-strings/">String Operations</a>
      </li>
      
      <li >
        <a href="/coding/tutorials/data-science-handbook/3.pandas/03.11-working-with-time-series/03.11-working-with-time-series/">Time Series</a>
      </li>
      
      <li >
        <a href="/coding/tutorials/data-science-handbook/3.pandas/03.12-performance-eval-and-query/">eval() and query()</a>
      </li>
      
      <li >
        <a href="/coding/tutorials/data-science-handbook/3.pandas/03.13-further-resources/">Further Resources</a>
      </li>
      
    </ul>
    

  </div>
  
  
</nav>

    </div>

    
    <div class="d-none d-xl-block col-xl-2 docs-toc">
      <ul class="nav toc-top">
        <li><a href="#" id="back_to_top" class="docs-toc-title">Contents</a></li>
      </ul>

      <nav id="TableOfContents">
<ul>
<li>
<ul>
<li><a href="#data-selection-in-series">Data Selection in Series</a>
<ul>
<li><a href="#series-as-dictionary">Series as dictionary</a></li>
<li><a href="#series-as-one-dimensional-array">Series as one-dimensional array</a></li>
<li><a href="#indexers-loc-iloc-and-ix">Indexers: loc, iloc, and ix</a></li>
</ul></li>
<li><a href="#data-selection-in-dataframe">Data Selection in DataFrame</a>
<ul>
<li><a href="#dataframe-as-a-dictionary">DataFrame as a dictionary</a></li>
<li><a href="#dataframe-as-two-dimensional-array">DataFrame as two-dimensional array</a></li>
<li><a href="#additional-indexing-conventions">Additional indexing conventions</a></li>
</ul></li>
</ul></li>
</ul>
</nav>

      
    </div>
    

    <main class="col-12 col-md-9 col-xl-8 py-md-3 pl-md-5 docs-content" role="main">

      <article class="article" itemscope itemtype="http://schema.org/Article">

        <div class="docs-article-container">
          <h1 itemprop="name">Data Indexing and Selection</h1>

          <div class="article-style" itemprop="articleBody">
            

<p>In <a href="02.00-Introduction-to-NumPy.ipynb" target="_blank">Chapter 2</a>, we looked in detail at methods and tools to access, set, and modify values in NumPy arrays.
These included indexing (e.g., <code>arr[2, 1]</code>), slicing (e.g., <code>arr[:, 1:5]</code>), masking (e.g., <code>arr[arr &gt; 0]</code>), fancy indexing (e.g., <code>arr[0, [1, 5]]</code>), and combinations thereof (e.g., <code>arr[:, [1, 5]]</code>).
Here we&rsquo;ll look at similar means of accessing and modifying values in Pandas <code>Series</code> and <code>DataFrame</code> objects.
If you have used the NumPy patterns, the corresponding patterns in Pandas will feel very familiar, though there are a few quirks to be aware of.</p>

<p>We&rsquo;ll start with the simple case of the one-dimensional <code>Series</code> object, and then move on to the more complicated two-dimesnional <code>DataFrame</code> object.</p>

<h2 id="data-selection-in-series">Data Selection in Series</h2>

<p>As we saw in the previous section, a <code>Series</code> object acts in many ways like a one-dimensional NumPy array, and in many ways like a standard Python dictionary.
If we keep these two overlapping analogies in mind, it will help us to understand the patterns of data indexing and selection in these arrays.</p>

<h3 id="series-as-dictionary">Series as dictionary</h3>

<p>Like a dictionary, the <code>Series</code> object provides a mapping from a collection of keys to a collection of values:</p>

<pre><code class="language-python">import pandas as pd
data = pd.Series([0.25, 0.5, 0.75, 1.0],
                 index=['a', 'b', 'c', 'd'])
data
</code></pre>

<pre><code>a    0.25
b    0.50
c    0.75
d    1.00
dtype: float64
</code></pre>

<pre><code class="language-python">data['b']
</code></pre>

<pre><code>0.5
</code></pre>

<p>We can also use dictionary-like Python expressions and methods to examine the keys/indices and values:</p>

<pre><code class="language-python">'a' in data
</code></pre>

<pre><code>True
</code></pre>

<pre><code class="language-python">data.keys()
</code></pre>

<pre><code>Index(['a', 'b', 'c', 'd'], dtype='object')
</code></pre>

<pre><code class="language-python">list(data.items())
</code></pre>

<pre><code>[('a', 0.25), ('b', 0.5), ('c', 0.75), ('d', 1.0)]
</code></pre>

<p><code>Series</code> objects can even be modified with a dictionary-like syntax.
Just as you can extend a dictionary by assigning to a new key, you can extend a <code>Series</code> by assigning to a new index value:</p>

<pre><code class="language-python">data['e'] = 1.25
data
</code></pre>

<pre><code>a    0.25
b    0.50
c    0.75
d    1.00
e    1.25
dtype: float64
</code></pre>

<p>This easy mutability of the objects is a convenient feature: under the hood, Pandas is making decisions about memory layout and data copying that might need to take place; the user generally does not need to worry about these issues.</p>

<h3 id="series-as-one-dimensional-array">Series as one-dimensional array</h3>

<p>A <code>Series</code> builds on this dictionary-like interface and provides array-style item selection via the same basic mechanisms as NumPy arrays â€“ that is, <em>slices</em>, <em>masking</em>, and <em>fancy indexing</em>.
Examples of these are as follows:</p>

<pre><code class="language-python"># slicing by explicit index
data['a':'c']
</code></pre>

<pre><code>a    0.25
b    0.50
c    0.75
dtype: float64
</code></pre>

<pre><code class="language-python"># slicing by implicit integer index
data[0:2]
</code></pre>

<pre><code>a    0.25
b    0.50
dtype: float64
</code></pre>

<pre><code class="language-python"># masking
data[(data &gt; 0.3) &amp; (data &lt; 0.8)]
</code></pre>

<pre><code>b    0.50
c    0.75
dtype: float64
</code></pre>

<pre><code class="language-python"># fancy indexing
data[['a', 'e']]
</code></pre>

<pre><code>a    0.25
e    1.25
dtype: float64
</code></pre>

<p>Among these, slicing may be the source of the most confusion.
Notice that when slicing with an explicit index (i.e., <code>data['a':'c']</code>), the final index is <em>included</em> in the slice, while when slicing with an implicit index (i.e., <code>data[0:2]</code>), the final index is <em>excluded</em> from the slice.</p>

<h3 id="indexers-loc-iloc-and-ix">Indexers: loc, iloc, and ix</h3>

<p>These slicing and indexing conventions can be a source of confusion.
For example, if your <code>Series</code> has an explicit integer index, an indexing operation such as <code>data[1]</code> will use the explicit indices, while a slicing operation like <code>data[1:3]</code> will use the implicit Python-style index.</p>

<pre><code class="language-python">data = pd.Series(['a', 'b', 'c'], index=[1, 3, 5])
data
</code></pre>

<pre><code>1    a
3    b
5    c
dtype: object
</code></pre>

<pre><code class="language-python"># explicit index when indexing
data[1]
</code></pre>

<pre><code>'a'
</code></pre>

<pre><code class="language-python"># implicit index when slicing
data[1:3]
</code></pre>

<pre><code>3    b
5    c
dtype: object
</code></pre>

<p>Because of this potential confusion in the case of integer indexes, Pandas provides some special <em>indexer</em> attributes that explicitly expose certain indexing schemes.
These are not functional methods, but attributes that expose a particular slicing interface to the data in the <code>Series</code>.</p>

<p>First, the <code>loc</code> attribute allows indexing and slicing that always references the explicit index:</p>

<pre><code class="language-python">data.loc[1]
</code></pre>

<pre><code>'a'
</code></pre>

<pre><code class="language-python">data.loc[1:3]
</code></pre>

<pre><code>1    a
3    b
dtype: object
</code></pre>

<p>The <code>iloc</code> attribute allows indexing and slicing that always references the implicit Python-style index:</p>

<pre><code class="language-python">data.iloc[1]
</code></pre>

<pre><code>'b'
</code></pre>

<pre><code class="language-python">data.iloc[1:3]
</code></pre>

<pre><code>3    b
5    c
dtype: object
</code></pre>

<p>A third indexing attribute, <code>ix</code>, is a hybrid of the two, and for <code>Series</code> objects is equivalent to standard <code>[]</code>-based indexing.
The purpose of the <code>ix</code> indexer will become more apparent in the context of <code>DataFrame</code> objects, which we will discuss in a moment.</p>

<p>One guiding principle of Python code is that &laquo;explicit is better than implicit.&raquo;
The explicit nature of <code>loc</code> and <code>iloc</code> make them very useful in maintaining clean and readable code; especially in the case of integer indexes, I recommend using these both to make code easier to read and understand, and to prevent subtle bugs due to the mixed indexing/slicing convention.</p>

<h2 id="data-selection-in-dataframe">Data Selection in DataFrame</h2>

<p>Recall that a <code>DataFrame</code> acts in many ways like a two-dimensional or structured array, and in other ways like a dictionary of <code>Series</code> structures sharing the same index.
These analogies can be helpful to keep in mind as we explore data selection within this structure.</p>

<h3 id="dataframe-as-a-dictionary">DataFrame as a dictionary</h3>

<p>The first analogy we will consider is the <code>DataFrame</code> as a dictionary of related <code>Series</code> objects.
Let&rsquo;s return to our example of areas and populations of states:</p>

<pre><code class="language-python">area = pd.Series({'California': 423967, 'Texas': 695662,
                  'New York': 141297, 'Florida': 170312,
                  'Illinois': 149995})
pop = pd.Series({'California': 38332521, 'Texas': 26448193,
                 'New York': 19651127, 'Florida': 19552860,
                 'Illinois': 12882135})
data = pd.DataFrame({'area':area, 'pop':pop})
data
</code></pre>

<div>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>area</th>
      <th>pop</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>California</th>
      <td>423967</td>
      <td>38332521</td>
    </tr>
    <tr>
      <th>Florida</th>
      <td>170312</td>
      <td>19552860</td>
    </tr>
    <tr>
      <th>Illinois</th>
      <td>149995</td>
      <td>12882135</td>
    </tr>
    <tr>
      <th>New York</th>
      <td>141297</td>
      <td>19651127</td>
    </tr>
    <tr>
      <th>Texas</th>
      <td>695662</td>
      <td>26448193</td>
    </tr>
  </tbody>
</table>
</div>

<p>The individual <code>Series</code> that make up the columns of the <code>DataFrame</code> can be accessed via dictionary-style indexing of the column name:</p>

<pre><code class="language-python">data['area']
</code></pre>

<pre><code>California    423967
Florida       170312
Illinois      149995
New York      141297
Texas         695662
Name: area, dtype: int64
</code></pre>

<p>Equivalently, we can use attribute-style access with column names that are strings:</p>

<pre><code class="language-python">data.area
</code></pre>

<pre><code>California    423967
Florida       170312
Illinois      149995
New York      141297
Texas         695662
Name: area, dtype: int64
</code></pre>

<p>This attribute-style column access actually accesses the exact same object as the dictionary-style access:</p>

<pre><code class="language-python">data.area is data['area']
</code></pre>

<pre><code>True
</code></pre>

<p>Though this is a useful shorthand, keep in mind that it does not work for all cases!
For example, if the column names are not strings, or if the column names conflict with methods of the <code>DataFrame</code>, this attribute-style access is not possible.
For example, the <code>DataFrame</code> has a <code>pop()</code> method, so <code>data.pop</code> will point to this rather than the <code>&quot;pop&quot;</code> column:</p>

<pre><code class="language-python">data.pop is data['pop']
</code></pre>

<pre><code>False
</code></pre>

<p>In particular, you should avoid the temptation to try column assignment via attribute (i.e., use <code>data['pop'] = z</code> rather than <code>data.pop = z</code>).</p>

<p>Like with the <code>Series</code> objects discussed earlier, this dictionary-style syntax can also be used to modify the object, in this case adding a new column:</p>

<pre><code class="language-python">data['density'] = data['pop'] / data['area']
data
</code></pre>

<div>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>area</th>
      <th>pop</th>
      <th>density</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>California</th>
      <td>423967</td>
      <td>38332521</td>
      <td>90.413926</td>
    </tr>
    <tr>
      <th>Florida</th>
      <td>170312</td>
      <td>19552860</td>
      <td>114.806121</td>
    </tr>
    <tr>
      <th>Illinois</th>
      <td>149995</td>
      <td>12882135</td>
      <td>85.883763</td>
    </tr>
    <tr>
      <th>New York</th>
      <td>141297</td>
      <td>19651127</td>
      <td>139.076746</td>
    </tr>
    <tr>
      <th>Texas</th>
      <td>695662</td>
      <td>26448193</td>
      <td>38.018740</td>
    </tr>
  </tbody>
</table>
</div>

<p>This shows a preview of the straightforward syntax of element-by-element arithmetic between <code>Series</code> objects; we&rsquo;ll dig into this further in <a href="03.03-Operations-in-Pandas.ipynb" target="_blank">Operating on Data in Pandas</a>.</p>

<h3 id="dataframe-as-two-dimensional-array">DataFrame as two-dimensional array</h3>

<p>As mentioned previously, we can also view the <code>DataFrame</code> as an enhanced two-dimensional array.
We can examine the raw underlying data array using the <code>values</code> attribute:</p>

<pre><code class="language-python">data.values
</code></pre>

<pre><code>array([[  4.23967000e+05,   3.83325210e+07,   9.04139261e+01],
       [  1.70312000e+05,   1.95528600e+07,   1.14806121e+02],
       [  1.49995000e+05,   1.28821350e+07,   8.58837628e+01],
       [  1.41297000e+05,   1.96511270e+07,   1.39076746e+02],
       [  6.95662000e+05,   2.64481930e+07,   3.80187404e+01]])
</code></pre>

<p>With this picture in mind, many familiar array-like observations can be done on the <code>DataFrame</code> itself.
For example, we can transpose the full <code>DataFrame</code> to swap rows and columns:</p>

<pre><code class="language-python">data.T
</code></pre>

<div>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>California</th>
      <th>Florida</th>
      <th>Illinois</th>
      <th>New York</th>
      <th>Texas</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>area</th>
      <td>4.239670e+05</td>
      <td>1.703120e+05</td>
      <td>1.499950e+05</td>
      <td>1.412970e+05</td>
      <td>6.956620e+05</td>
    </tr>
    <tr>
      <th>pop</th>
      <td>3.833252e+07</td>
      <td>1.955286e+07</td>
      <td>1.288214e+07</td>
      <td>1.965113e+07</td>
      <td>2.644819e+07</td>
    </tr>
    <tr>
      <th>density</th>
      <td>9.041393e+01</td>
      <td>1.148061e+02</td>
      <td>8.588376e+01</td>
      <td>1.390767e+02</td>
      <td>3.801874e+01</td>
    </tr>
  </tbody>
</table>
</div>

<p>When it comes to indexing of <code>DataFrame</code> objects, however, it is clear that the dictionary-style indexing of columns precludes our ability to simply treat it as a NumPy array.
In particular, passing a single index to an array accesses a row:</p>

<pre><code class="language-python">data.values[0]
</code></pre>

<pre><code>array([  4.23967000e+05,   3.83325210e+07,   9.04139261e+01])
</code></pre>

<p>and passing a single &laquo;index&raquo; to a <code>DataFrame</code> accesses a column:</p>

<pre><code class="language-python">data['area']
</code></pre>

<pre><code>California    423967
Florida       170312
Illinois      149995
New York      141297
Texas         695662
Name: area, dtype: int64
</code></pre>

<p>Thus for array-style indexing, we need another convention.
Here Pandas again uses the <code>loc</code>, <code>iloc</code>, and <code>ix</code> indexers mentioned earlier.
Using the <code>iloc</code> indexer, we can index the underlying array as if it is a simple NumPy array (using the implicit Python-style index), but the <code>DataFrame</code> index and column labels are maintained in the result:</p>

<pre><code class="language-python">data.iloc[:3, :2]
</code></pre>

<div>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>area</th>
      <th>pop</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>California</th>
      <td>423967</td>
      <td>38332521</td>
    </tr>
    <tr>
      <th>Florida</th>
      <td>170312</td>
      <td>19552860</td>
    </tr>
    <tr>
      <th>Illinois</th>
      <td>149995</td>
      <td>12882135</td>
    </tr>
  </tbody>
</table>
</div>

<p>Similarly, using the <code>loc</code> indexer we can index the underlying data in an array-like style but using the explicit index and column names:</p>

<pre><code class="language-python">data.loc[:'Illinois', :'pop']
</code></pre>

<div>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>area</th>
      <th>pop</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>California</th>
      <td>423967</td>
      <td>38332521</td>
    </tr>
    <tr>
      <th>Florida</th>
      <td>170312</td>
      <td>19552860</td>
    </tr>
    <tr>
      <th>Illinois</th>
      <td>149995</td>
      <td>12882135</td>
    </tr>
  </tbody>
</table>
</div>

<p>The <code>ix</code> indexer allows a hybrid of these two approaches:</p>

<pre><code class="language-python">data.ix[:3, :'pop']
</code></pre>

<div>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>area</th>
      <th>pop</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>California</th>
      <td>423967</td>
      <td>38332521</td>
    </tr>
    <tr>
      <th>Florida</th>
      <td>170312</td>
      <td>19552860</td>
    </tr>
    <tr>
      <th>Illinois</th>
      <td>149995</td>
      <td>12882135</td>
    </tr>
  </tbody>
</table>
</div>

<p>Keep in mind that for integer indices, the <code>ix</code> indexer is subject to the same potential sources of confusion as discussed for integer-indexed <code>Series</code> objects.</p>

<p>Any of the familiar NumPy-style data access patterns can be used within these indexers.
For example, in the <code>loc</code> indexer we can combine masking and fancy indexing as in the following:</p>

<pre><code class="language-python">data.loc[data.density &gt; 100, ['pop', 'density']]
</code></pre>

<div>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>pop</th>
      <th>density</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>Florida</th>
      <td>19552860</td>
      <td>114.806121</td>
    </tr>
    <tr>
      <th>New York</th>
      <td>19651127</td>
      <td>139.076746</td>
    </tr>
  </tbody>
</table>
</div>

<p>Any of these indexing conventions may also be used to set or modify values; this is done in the standard way that you might be accustomed to from working with NumPy:</p>

<pre><code class="language-python">data.iloc[0, 2] = 90
data
</code></pre>

<div>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>area</th>
      <th>pop</th>
      <th>density</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>California</th>
      <td>423967</td>
      <td>38332521</td>
      <td>90.000000</td>
    </tr>
    <tr>
      <th>Florida</th>
      <td>170312</td>
      <td>19552860</td>
      <td>114.806121</td>
    </tr>
    <tr>
      <th>Illinois</th>
      <td>149995</td>
      <td>12882135</td>
      <td>85.883763</td>
    </tr>
    <tr>
      <th>New York</th>
      <td>141297</td>
      <td>19651127</td>
      <td>139.076746</td>
    </tr>
    <tr>
      <th>Texas</th>
      <td>695662</td>
      <td>26448193</td>
      <td>38.018740</td>
    </tr>
  </tbody>
</table>
</div>

<p>To build up your fluency in Pandas data manipulation, I suggest spending some time with a simple <code>DataFrame</code> and exploring the types of indexing, slicing, masking, and fancy indexing that are allowed by these various indexing approaches.</p>

<h3 id="additional-indexing-conventions">Additional indexing conventions</h3>

<p>There are a couple extra indexing conventions that might seem at odds with the preceding discussion, but nevertheless can be very useful in practice.
First, while <em>indexing</em> refers to columns, <em>slicing</em> refers to rows:</p>

<pre><code class="language-python">data['Florida':'Illinois']
</code></pre>

<div>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>area</th>
      <th>pop</th>
      <th>density</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>Florida</th>
      <td>170312</td>
      <td>19552860</td>
      <td>114.806121</td>
    </tr>
    <tr>
      <th>Illinois</th>
      <td>149995</td>
      <td>12882135</td>
      <td>85.883763</td>
    </tr>
  </tbody>
</table>
</div>

<p>Such slices can also refer to rows by number rather than by index:</p>

<pre><code class="language-python">data[1:3]
</code></pre>

<div>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>area</th>
      <th>pop</th>
      <th>density</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>Florida</th>
      <td>170312</td>
      <td>19552860</td>
      <td>114.806121</td>
    </tr>
    <tr>
      <th>Illinois</th>
      <td>149995</td>
      <td>12882135</td>
      <td>85.883763</td>
    </tr>
  </tbody>
</table>
</div>

<p>Similarly, direct masking operations are also interpreted row-wise rather than column-wise:</p>

<pre><code class="language-python">data[data.density &gt; 100]
</code></pre>

<div>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>area</th>
      <th>pop</th>
      <th>density</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>Florida</th>
      <td>170312</td>
      <td>19552860</td>
      <td>114.806121</td>
    </tr>
    <tr>
      <th>New York</th>
      <td>141297</td>
      <td>19651127</td>
      <td>139.076746</td>
    </tr>
  </tbody>
</table>
</div>

<p>These two conventions are syntactically similar to those on a NumPy array, and while these may not precisely fit the mold of the Pandas conventions, they are nevertheless quite useful in practice.</p>

          </div>

          



          
          <div class="article-widget">
            
<div class="post-nav">
  
  
  
  <div class="post-nav-item box ">
    <div class="meta-nav meta-prev">Previous <br>
    <a href="/coding/tutorials/data-science-handbook/3.pandas/intro/" rel="next">Introducing</a></div>
  </div>
  
  
  
  <div class="post-nav-item box">
    <div class="meta-nav meta-next" >Next <br>
    <a href="/coding/tutorials/data-science-handbook/3.pandas/03.03-operations-in-pandas/" rel="prev">Operating on Data</a></div>
  </div>
  
  <br>
  <br>
</div>

          </div>
          
        </div>

        <div class="body-footer">
          Last updated on Jun 19, 2020
        </div>

      </article>

      <footer class="site-footer">

  <div class="container">
    <div class="row">
      <div class="col-md-6">
        
        <p>
          
          Powered by
          <a href="https://themefisher.com" target="_blank" rel="noopener">themefisher</a> for
          <a href="https://gohugo.io" target="_blank" rel="noopener">Hugo</a>.
        </p>
      </div>
      <div class="col-md-6">
        <ul class="list-inline network-icon text-right">
          
          
          
          
          
          
          
          
          
          
          
          
          
          <li class="list-inline-item">
            <a href="https://twitter.com/Twitter" target="_blank" rel="noopener" title="DM Me"><i class="fab fa-twitter" aria-hidden="true"></i></a>
          </li>
          
          
          
          
          
          
          
          
          
          
          <li class="list-inline-item">
            <a href="skype:echo123?call"  title="Skype Me"><i class="fab fa-skype" aria-hidden="true"></i></a>
          </li>
          
          
          
          
          
          
          
          
          
          
          
          
          <li class="list-inline-item">
            <a href="https://keybase.io/" target="_blank" rel="noopener" title="Chat on Keybase"><i class="fab fa-keybase" aria-hidden="true"></i></a>
          </li>
          
          
          
          
          
          
          
          
          
          
          
          
          <li class="list-inline-item">
            <a href="https://discourse.gohugo.io" target="_blank" rel="noopener" title="Discuss on Forum"><i class="fas fa-comments" aria-hidden="true"></i></a>
          </li>
          
        </ul>
      </div>
    </div>
  </div>
</footer>

    </main>
  </div>
</div>


      

    
    
    
    <script src="/coding/js/mathjax-config.js"></script>
    

    
    
    
      <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
      <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery.imagesloaded/4.1.4/imagesloaded.pkgd.min.js" integrity="sha256-lqvxZrPLtfffUl2G/e7szqSvPBILGbwmsGE1MKlOi0Q=" crossorigin="anonymous"></script>
      <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery.isotope/3.0.6/isotope.pkgd.min.js" integrity="sha256-CBrpuqrMhXwcLLUd5tvQ4euBHCdh7wGlDfNz8vbu/iI=" crossorigin="anonymous"></script>
      <script src="https://cdnjs.cloudflare.com/ajax/libs/fancybox/3.2.5/jquery.fancybox.min.js" integrity="sha256-X5PoE3KU5l+JcX+w09p/wHl9AzK333C4hJ2I9S5mD4M=" crossorigin="anonymous"></script>

      

      
        
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.15.6/highlight.min.js" integrity="sha256-aYTdUrn6Ow1DDgh5JTc3aDGnnju48y/1c8s1dgkYPQ8=" crossorigin="anonymous"></script>
        
        <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.15.6/languages/python.min.js"></script>
        
      

      
      
      <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.4/MathJax.js?config=TeX-AMS_CHTML-full" integrity="sha256-GhM+5JHb6QUzOQPXSJLEWP7R73CbkisjzK5Eyij4U9w=" crossorigin="anonymous" async></script>
      
    

    
    

    
    
    

    
    
    <script>hljs.initHighlightingOnLoad();</script>
    

    
    
    <script>
      const search_index_filename = "/coding/index.json";
      const i18n = {
        'placeholder': "Search...",
        'results': "results found",
        'no_results': "No results found"
      };
      const content_type = {
        'post': "Posts",
        'project': "Projects",
        'publication' : "Publications",
        'talk' : "Talks"
        };
    </script>
    

    
    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/anchor-js/4.1.1/anchor.min.js" integrity="sha256-pB/deHc9CGfFpJRjC43imB29Rse8tak+5eXqntO94ck=" crossorigin="anonymous"></script>
    <script>
      anchors.add();
    </script>
    

    
    
    <script id="search-hit-fuse-template" type="text/x-template">
      <div class="search-hit" id="summary-{{key}}">
      <div class="search-hit-content">
        <div class="search-hit-name">
          <a href="{{relpermalink}}">{{title}}</a>
          <div class="article-metadata search-hit-type">{{type}}</div>
          <p class="search-hit-description">{{snippet}}</p>
        </div>
      </div>
      </div>
    </script>
    

    
    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/3.2.1/fuse.min.js" integrity="sha256-VzgmKYmhsGNNN4Ph1kMW+BjoYJM2jV5i4IlFoeZA9XI=" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/jquery.mark.min.js" integrity="sha256-4HLtjeVgH0eIB3aZ9mLYF6E8oU5chNdjU6p6rrXpl9U=" crossorigin="anonymous"></script>
    

    
    

    
    
    
    
    
    
    
    
    
      
    
    
    
    
    <script src="/coding/js/academia.min.e4fc229c2f28284fc2dfa5b66a52b765.js"></script>

    






  

  
<div id="modal" class="modal fade" role="dialog">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title">Cite</h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
        <pre><code class="tex hljs"></code></pre>
      </div>
      <div class="modal-footer">
        <a class="btn btn-outline-primary my-1 js-copy-cite" href="#" target="_blank">
          <i class="fas fa-copy"></i> Copy
        </a>
        <a class="btn btn-outline-primary my-1 js-download-cite" href="#" target="_blank">
          <i class="fas fa-download"></i> Download
        </a>
        <div id="modal-error"></div>
      </div>
    </div>
  </div>
</div>

</body>
</html>
