<!DOCTYPE html>
<html lang="en-us">

<head>

  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="generator" content="Source Themes Academia 4.3.1">
  <meta name="generator" content="Hugo 0.59.1" />

  

  
  
  
  
  
    
    
    
  
  

  <meta name="author" content="Little Dragon">

  
  
  
    
  
  <meta name="description" content="Pandas ถือเป็นเครื่องมือหลักในการทำ Data Wrangling บน Python และสามารถนำไปใช้ประโยชน์คู่กับ Package อื่น เช่น เอาไปเตรียมข้อมูลก่อนทำ Model ใน SKLearn ได้ด้วย">

  
  <link rel="alternate" hreflang="en-us" href="https://dragon-library.github.io/coding/post/python/tutorials/pandas-cheat-sheet/">

  


  

  
  
  
  <meta name="theme-color" content="#c7254e">
  

  
  
  
  
    
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/academicons/1.8.6/css/academicons.min.css" integrity="sha256-uFVgMKfistnJAfoCUQigIl+JfUaP47GrRKjf6CTPVmw=" crossorigin="anonymous">
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.6.0/css/all.css" integrity="sha384-aOkxzJ5uQz7WBObEZcHvV5JvRW3TUc2rNPA7pe3AwnsUohiw1Vj2Rgx2KSOkF5+h" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/fancybox/3.2.5/jquery.fancybox.min.css" integrity="sha256-ygkqlh3CYSUri3LhQxzdcm0n1EQvH2Y+U5S2idbLtxs=" crossorigin="anonymous">

    
    
    
      
    
    
      
      
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.15.6/styles/github.min.css" crossorigin="anonymous" title="hl-light">
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.15.6/styles/github.min.css" crossorigin="anonymous" title="hl-dark" disabled>
      
    

    

    

  

  
  
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Kanit:400,700|Sarabun|Roboto&display=swap">
  

  
  
  
  <link rel="stylesheet" href="/coding/css/academia.min.ff05a21b53038f9dccb7f30aedbfb6d7.css">

  

  
  
  

  

  <link rel="manifest" href="/coding/site.webmanifest">
  <link rel="icon" type="image/png" href="/coding/img/icon.png">
  <link rel="apple-touch-icon" type="image/png" href="/coding/img/icon-192.png">

  <link rel="canonical" href="https://dragon-library.github.io/coding/post/python/tutorials/pandas-cheat-sheet/">

  
  
  
  
    
  
  <meta property="twitter:card" content="summary_large_image">
  
  <meta property="og:site_name" content="Library">
  <meta property="og:url" content="https://dragon-library.github.io/coding/post/python/tutorials/pandas-cheat-sheet/">
  <meta property="og:title" content="Pandas Cheat Sheet | Library">
  <meta property="og:description" content="Pandas ถือเป็นเครื่องมือหลักในการทำ Data Wrangling บน Python และสามารถนำไปใช้ประโยชน์คู่กับ Package อื่น เช่น เอาไปเตรียมข้อมูลก่อนทำ Model ใน SKLearn ได้ด้วย"><meta property="og:image" content="https://dragon-library.github.io/coding/post/python/tutorials/pandas-cheat-sheet/featured.jpg">
  <meta property="twitter:image" content="https://dragon-library.github.io/coding/post/python/tutorials/pandas-cheat-sheet/featured.jpg"><meta property="og:locale" content="en-us">
  
  <meta property="article:published_time" content="2020-05-31T00:00:00&#43;00:00">
  
  <meta property="article:modified_time" content="2020-06-18T02:48:28&#43;07:00">
  

  


  





  <title>Pandas Cheat Sheet | Library</title>

</head>


<body id="top" data-spy="scroll" data-target="#TableOfContents" data-offset="71" >

  <aside class="search-results" id="search">
  <div class="container">
    <section class="search-header">

      <div class="row no-gutters justify-content-between mb-3">
        <div class="col-6">
          <h1>Search</h1>
        </div>
        <div class="col-6 col-search-close">
          <a class="js-search" href="#"><i class="fas fa-times-circle text-muted" aria-hidden="true"></i></a>
        </div>
      </div>

      <div id="search-box">
        
        <input name="q" id="search-query" placeholder="Search..." autocapitalize="off"
        autocomplete="off" autocorrect="off" role="textbox" spellcheck="false" type="search">
        
      </div>

    </section>
    <section class="section-search-results">

      <div id="search-hits">
        
      </div>

    </section>
  </div>
</aside>


  
<nav class="navbar navbar-light fixed-top navbar-expand-lg py-0" id="navbar-main">
  <div class="container">

    
      <a class="navbar-brand" href="/coding/">Library</a>
      
      <button type="button" class="navbar-toggler" data-toggle="collapse" data-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation"><span><i class="fas fa-bars"></i></span>
      </button>
      

    
    <div class="collapse navbar-collapse" id="navbar">

      
      
      <ul class="navbar-nav ml-auto">
        

        

        
        
        
          
        

        
        
        
        
        
        
          
          
          
            
          
          
        

        <li class="nav-item">
          <a class="nav-link " href="/coding/#about"><span>Home</span></a>
        </li>

        
        

        

        
        
        
          
        

        
        
        
        
        
        

        <li class="nav-item">
          <a class="nav-link  active" href="/coding/python/"><span>Python</span></a>
        </li>

        
        

        

        
        
        
          
        

        
        
        
        
        
        
          
          
          
            
          
          
        

        <li class="nav-item">
          <a class="nav-link " href="/coding/#posts"><span>Posts</span></a>
        </li>

        
        

        

        
        
        
          
        

        
        
        
        
        
        

        <li class="nav-item">
          <a class="nav-link  active" href="/coding/tutorials/"><span>Tutorials</span></a>
        </li>

        
        

        

        
        
        
          
        

        
        
        
        
        
        
          
          
          
            
          
          
        

        <li class="nav-item">
          <a class="nav-link " href="/coding/#publications"><span>Publications</span></a>
        </li>

        
        

        

        
        
        
          
        

        
        
        
        
        
        

        <li class="nav-item">
          <a class="nav-link " href="/coding/book/"><span>Book</span></a>
        </li>

        
        

        

        
        
        
          
        

        
        
        
        
        
        

        <li class="nav-item">
          <a class="nav-link " href="/coding/courses/"><span>Courses</span></a>
        </li>

        
        

        

        
        
        
          
        

        
        
        
        
        
        
          
          
          
            
          
          
        

        <li class="nav-item">
          <a class="nav-link " href="/coding/#contact"><span>Contact</span></a>
        </li>

        
        

      

        

        
        <li class="nav-item">
          <a class="nav-link js-search" href="#"><i class="fas fa-search" aria-hidden="true"></i></a>
        </li>
        

        

        
        <li class="nav-item">
          <a class="nav-link js-dark-toggle" href="#"><i class="fas fa-moon" aria-hidden="true"></i></a>
        </li>
        

      </ul>

    </div>
  </div>
</nav>


  <article class="article py-5" itemscope itemtype="http://schema.org/Article">

  












    

    
    
    
    <div class="article-container py-3">
      <h1 itemprop="name">Pandas Cheat Sheet</h1>

      
      <p class="page-subtitle">Pandas เป็น Library ใน Python ที่ทำให้เราเล่นกับข้อมูลได้ง่ายขึ้น เหมาะมากสำหรับทำ  Data Cleaning / Wrangling</p>
      

      
      



<meta content="2020-05-31 00:00:00 &#43;0000 UTC" itemprop="datePublished">
<meta content="2020-06-18 02:48:28 &#43;0700 &#43;07" itemprop="dateModified">

<div class="article-metadata">

  
  
  
  
  <div>
    



  <span itemprop="author name" itemtype="http://schema.org/Person"><a href="/coding/authors/admin/">Little Dragon</a></span>

  </div>
  
  

  
  <span class="article-date">
    
    
      
          Last updated on
      
    
    <time>Jun 18, 2020</time>
  </span>
  

  

  
  <span class="middot-divider"></span>
  <span class="article-reading-time">
    6 min read
  </span>
  

  
  

  
  
  <span class="middot-divider"></span>
  <span class="article-categories">
    <i class="fas fa-folder"></i>
    <a href="/coding/categories/tutorials/">Tutorials</a>, <a href="/coding/categories/pandas/">Pandas</a></span>
  

  
    
<div class="share-box" aria-hidden="true">
  <ul class="share">
    
      
      
      
        
      
      
      
      <li>
        <a href="https://twitter.com/intent/tweet?url=https://dragon-library.github.io/coding/post/python/tutorials/pandas-cheat-sheet/&amp;text=Pandas%20Cheat%20Sheet" target="_blank" rel="noopener" class="share-btn-twitter">
          <i class="fab fa-twitter"></i>
        </a>
      </li>
    
      
      
      
        
      
      
      
      <li>
        <a href="https://www.facebook.com/sharer.php?u=https://dragon-library.github.io/coding/post/python/tutorials/pandas-cheat-sheet/&amp;t=Pandas%20Cheat%20Sheet" target="_blank" rel="noopener" class="share-btn-facebook">
          <i class="fab fa-facebook-f"></i>
        </a>
      </li>
    
      
      
      
        
      
      
      
      <li>
        <a href="mailto:?subject=Pandas%20Cheat%20Sheet&amp;body=https://dragon-library.github.io/coding/post/python/tutorials/pandas-cheat-sheet/" target="_blank" rel="noopener" class="share-btn-email">
          <i class="fas fa-envelope"></i>
        </a>
      </li>
    
      
      
      
        
      
      
      
      <li>
        <a href="https://www.linkedin.com/shareArticle?url=https://dragon-library.github.io/coding/post/python/tutorials/pandas-cheat-sheet/&amp;title=Pandas%20Cheat%20Sheet" target="_blank" rel="noopener" class="share-btn-linkedin">
          <i class="fab fa-linkedin-in"></i>
        </a>
      </li>
    
      
      
      
        
      
      
      
      <li>
        <a href="https://web.whatsapp.com/send?text=Pandas%20Cheat%20Sheet%20https://dragon-library.github.io/coding/post/python/tutorials/pandas-cheat-sheet/" target="_blank" rel="noopener" class="share-btn-whatsapp">
          <i class="fab fa-whatsapp"></i>
        </a>
      </li>
    
      
      
      
        
      
      
      
      <li>
        <a href="https://service.weibo.com/share/share.php?url=https://dragon-library.github.io/coding/post/python/tutorials/pandas-cheat-sheet/&amp;title=Pandas%20Cheat%20Sheet" target="_blank" rel="noopener" class="share-btn-weibo">
          <i class="fab fa-weibo"></i>
        </a>
      </li>
    
  </ul>
</div>


  

</div>

      














      
      
    </div>
  </div>
</div>

  <div class="article-container">

    <div class="article-style" itemprop="articleBody">
      

<blockquote>
<p><a href="https://blog.datath.com/2017/11/05/" target="_blank">November 5, 2017</a></p>
</blockquote>

<p><img src="featured.jpg" alt="" /></p>

<blockquote>
<p>Image by www.reddit.com</p>
</blockquote>

<p>Pandas ถือเป็นเครื่องมือหลักในการทำ Data Wrangling บน Python และสามารถนำไปใช้ประโยชน์คู่กับ Package อื่น เช่น เอาไปเตรียมข้อมูลก่อนทำ Model ใน SKLearn ได้ด้วย</p>

<p>วันนี้แอดมินเลยเอาคำสั่ง Pandas ที่ใช้บ่อย ๆ มารวบรวมให้renameหาง่าย ๆ ตั้งแต่อ่านไฟล์ข้อมูล เลือกข้อมูล แก้ไขข้อมูล ไปจนถึงเซฟไฟล์ข้อมูลเพื่อนำไปใช้ต่อเลยทีเดียว หวังว่าจะเป็นประโยชน์กับทุกท่านนะครับ :)</p>

<p>และเนื่องจากหน้านี้เป็น Cheatsheet รวมเทคนิคเยอะแยะมากมาย ถ้าไล่อ่านกันอาจจะหายาก ผมเลยเตรียมสารบัญมาให้ด้านล่างนี้ครับ</p>

<p><strong>Contents</strong>  <a href="https://blog.datath.com/cheatsheet-pandas/#" target="_blank">hide</a></p>

<p><a href="https://blog.datath.com/cheatsheet-pandas/#Pandas_khux_xari" target="_blank">1  Pandas คืออะไร?</a></p>

<p><a href="https://blog.datath.com/cheatsheet-pandas/#thekhnikh_kar_chi_Pandas" target="_blank">2  เทคนิคการใช้ Pandas</a></p>

<p><a href="https://blog.datath.com/cheatsheet-pandas/#withi_chekh_Version_Pandas" target="_blank">2.1  วิธีเช็ค Version Pandas</a></p>

<p><a href="https://blog.datath.com/cheatsheet-pandas/#withi_kar_hold_fil_CSV_Import" target="_blank">2.2  วิธีการโหลดไฟล์ CSV (Import)</a></p>

<p><a href="https://blog.datath.com/cheatsheet-pandas/#withi_sum_khxmul_sahrab_chekh_Sample" target="_blank">2.3  วิธีสุ่มข้อมูลสำหรับเช็ค (Sample)</a></p>

<p><a href="https://blog.datath.com/cheatsheet-pandas/#withi_chekh_khxmul_hakhwam_phid_pkti_ni_DataFrame_beuxng_tn" target="_blank">2.4  วิธีเช็คข้อมูลหาความผิดปกติใน DataFrame เบื้องต้น</a></p>

<p><a href="https://blog.datath.com/cheatsheet-pandas/#withi_paelng_prapheth_khxmul_Data_Type_ni_Data_Frame" target="_blank">2.5  วิธีแปลงประเภทข้อมูล (Data Type) ใน Data Frame</a></p>

<p><a href="https://blog.datath.com/cheatsheet-pandas/#withi_chekh_Summary_khxng_taela_khxlamn_count_min_max_mean" target="_blank">2.6  วิธีเช็ค Summary ของแต่ละคอลัมน์ (count, min, max, mean)</a></p>

<p><a href="https://blog.datath.com/cheatsheet-pandas/#withi_chekh_Summary_count_min_max_mean_baeb_yaek_klum" target="_blank">2.7  วิธีเช็ค Summary (count, min, max, mean) แบบแยกกลุ่ม</a></p>

<p><a href="https://blog.datath.com/cheatsheet-pandas/#withi_srang_DataFrame_him" target="_blank">2.8  วิธีสร้าง DataFrame ใหม่</a></p>

<p><a href="https://blog.datath.com/cheatsheet-pandas/#withi_leuxk_hlay_khxlamn_cak_DataFrame" target="_blank">2.9  วิธีเลือกหลายคอลัมน์จาก DataFrame</a></p>

<p><a href="https://blog.datath.com/cheatsheet-pandas/#withi_leuxk_khxlamn_tam_ngeuxnkhi_thi_txngkar" target="_blank">2.10  วิธีเลือกคอลัมน์ตามเงื่อนไขที่ต้องการ</a></p>

<p><a href="https://blog.datath.com/cheatsheet-pandas/#withi_leuxk_thaew_tam_ngeuxnkhi_thi_txngkar" target="_blank">2.11  วิธีเลือกแถวตามเงื่อนไขที่ต้องการ</a></p>

<p><a href="https://blog.datath.com/cheatsheet-pandas/#withi_pheim_khxlamn_him" target="_blank">2.12  วิธีเพิ่มคอลัมน์ใหม่</a></p>

<p><a href="https://blog.datath.com/cheatsheet-pandas/#kar_slab_Row_-_Column_Transpose" target="_blank">2.13  การสลับ Row &lt;-&gt; Column (Transpose)</a></p>

<p><a href="https://blog.datath.com/cheatsheet-pandas/#kar_tx_DataFrame" target="_blank">2.14  การต่อ DataFrame</a></p>

<p><a href="https://blog.datath.com/cheatsheet-pandas/#kar_tx_DataFrame_baeb_Join" target="_blank">2.15  การต่อ DataFrame แบบ Join</a></p>

<p><a href="https://blog.datath.com/cheatsheet-pandas/#kar_ha_kha_Mean_Sum_Max_Aggregate_baeb_thang_DataFrame" target="_blank">2.16  การหาค่า Mean, Sum, Max (Aggregate) แบบทั้ง DataFrame</a></p>

<p><a href="https://blog.datath.com/cheatsheet-pandas/#kar_Aggregate_baeb_tam_klum_thi_txngkar" target="_blank">2.17  การ Aggregate แบบตามกลุ่มที่ต้องการ</a></p>

<p><a href="https://blog.datath.com/cheatsheet-pandas/#kar_ran_Function_deiywkan_thuk_thaew_hrux_thuk_khxlamn" target="_blank">2.18  การรัน Function เดียวกันทุกแถว หรือทุกคอลัมน์</a></p>

<p><a href="https://blog.datath.com/cheatsheet-pandas/#ran_kha_sang_thi_kheiyn_xeng_kab_thuk_thaew_ni_1_khxlamn" target="_blank">2.19  รันคำสั่งที่เขียนเองกับทุกแถวใน 1 คอลัมน์</a></p>

<p><a href="https://blog.datath.com/cheatsheet-pandas/#ran_kha_sang_thi_kheiyn_xeng_kab_thuk_kha" target="_blank">2.20  รันคำสั่งที่เขียนเองกับทุกค่า</a></p>

<p><a href="https://blog.datath.com/cheatsheet-pandas/#khanwn_Correlation_Covariance" target="_blank">2.21  คำนวณ Correlation &amp; Covariance</a></p>

<p><a href="https://blog.datath.com/cheatsheet-pandas/#khanwn_Cross_Tabulation" target="_blank">2.22  คำนวณ Cross Tabulation</a></p>

<p><a href="https://blog.datath.com/cheatsheet-pandas/#withi_ha_kha_Unique_ni_taela_khxlamn" target="_blank">2.23  วิธีหาค่า Unique ในแต่ละคอลัมน์</a></p>

<p><a href="https://blog.datath.com/cheatsheet-pandas/#withi_chekh_wa_mi_thaew_hin_khxmul_sa_may_Duplicated" target="_blank">2.24  วิธีเช็คว่ามีแถวไหนข้อมูลซ้ำมั้ย (Duplicated)</a></p>

<p><a href="https://blog.datath.com/cheatsheet-pandas/#withi_kar_nab_canwn_Duplicate" target="_blank">2.25  วิธีการนับจำนวน Duplicate</a></p>

<p><a href="https://blog.datath.com/cheatsheet-pandas/#withi_kar_lb_Duplicate" target="_blank">2.26  วิธีการลบ Duplicate</a></p>

<p><a href="https://blog.datath.com/cheatsheet-pandas/#withi_kar_lb_thaew_laea_lb_khxlamn" target="_blank">2.27  วิธีการลบแถว และลบคอลัมน์</a></p>

<p><a href="https://blog.datath.com/cheatsheet-pandas/#withi_kar_lb_thaew_thi_mi_Missing_Value" target="_blank">2.28  วิธีการลบแถวที่มี Missing Value</a></p>

<p><a href="https://blog.datath.com/cheatsheet-pandas/#withi_thaen_kha_Missing_Value_dwy_kha_cheliy_Mean_Imputation" target="_blank">2.29  วิธีแทนค่า Missing Value ด้วยค่าเฉลี่ย (Mean Imputation)</a></p>

<p><a href="https://blog.datath.com/cheatsheet-pandas/#kar_lup_khxmul_taela_khxlamn_laea_taela_thaew" target="_blank">2.30  การลูปข้อมูลแต่ละคอลัมน์ และแต่ละแถว</a></p>

<p><a href="https://blog.datath.com/cheatsheet-pandas/#withi_peliyn_DataFrame_cak_baeb_Wide_pen_Long_Melt" target="_blank">2.31  วิธีเปลี่ยน DataFrame จากแบบ Wide เป็น Long (Melt)</a></p>

<p><a href="https://blog.datath.com/cheatsheet-pandas/#withi_kar_peliyn_chux_khxlamn_Rename" target="_blank">2.32  วิธีการเปลี่ยนชื่อคอลัมน์ (Rename)</a></p>

<p><a href="https://blog.datath.com/cheatsheet-pandas/#withi_kar_si_khana_hna_khxlamn_Prefix" target="_blank">2.33  วิธีการใส่คำนำหน้าคอลัมน์ (Prefix)</a></p>

<p><a href="https://blog.datath.com/cheatsheet-pandas/#withi_kar_thaen_kha_ni_DataFrame" target="_blank">2.34  วิธีการแทนค่าใน DataFrame</a></p>

<p><a href="https://blog.datath.com/cheatsheet-pandas/#withi_kar_Export_DataFrame_pen_fil_CSV" target="_blank">2.35  วิธีการ Export DataFrame เป็นไฟล์ CSV</a></p>

<p><a href="https://blog.datath.com/cheatsheet-pandas/#srup_kar_chi_ngan_Pandas" target="_blank">3  สรุปการใช้งาน Pandas</a></p>

<h2 id="pandas-ค-ออะไร">Pandas คืออะไร?</h2>

<p>Pandas เป็น Library ใน Python ที่ทำให้เราเล่นกับข้อมูลได้ง่ายขึ้น เหมาะมากสำหรับทำ  <a href="https://www.facebook.com/datasciencechill/photos/a.251751741876557.1073741828.250303472021384/388914871493576/?type=3" target="_blank">Data Cleaning / Wrangling</a>  ครับผม</p>

<p>วิธีการใช้งาน Pandas คือ โหลดไฟล์ข้อมูล เช่น CSV เข้าไป แล้วเราจะได้ข้อมูลในรูปแบบตาราง (DataFrame) ที่แบ่งข้อมูลตามแถวและคอลัมน์ หรือเหมือน Excel ที่เราใช้กันนั่นเอง</p>

<p><a href="https://blog.datath.com/cheatsheet-pandas/example-dataframe-pandas/" target="_blank"><img src="https://cdn.shortpixel.ai/client/to_webp,q_lossy,ret_img,w_998/https://blog.datath.com/wp-content/uploads/2017/11/example-dataframe-pandas.jpg" alt="" /></a></p>

<p>ตัวอย่าง DataFrame ของ Pandas เป็นตารางเหมือน Excel เลยครับ</p>

<p>ป.ล. Pandas ไม่เกี่ยวกับหมีแพนด้านะฮะ จริง ๆ แล้วมาจากคำว่า PANel DAta ซึ่งหมายถึงข้อมูลที่มีหลายมิตินั่นเอง</p>

<h2 id="เทคน-คการใช-pandas">เทคนิคการใช้ Pandas</h2>

<p>อย่างที่<a href="https://www.facebook.com/datasciencechill/photos/a.251751741876557.1073741828.250303472021384/388914871493576/?type=3" target="_blank">แอดมินเคยเล่า</a> ว่าการทำ Data Wrangling เป็นงานที่ค่อนข้างถึกครับ วันนี้เลยรวบรวมโค้ดต่าง ๆ ในการใช้ Pandas มาให้ ซึ่งน่าจะครอบคลุมการใช้งานประมาณ 80 – 90% แล้วครับผม</p>

<p>โค้ดบางส่วนมาจากคลาส Data Wrangling ที่แอดมินเรียน และจากเว็บไซต์ <a href="https://mycheatsheets.com/pandas" target="_blank">MyCheatSheet</a> ครับ</p>

<h3 id="ว-ธ-เช-ค-version-pandas">วิธีเช็ค Version Pandas</h3>

<p>โค้ดนี้เหมือนไม่สำคัญ แต่จริง ๆ แล้วสำคัญมากเวลาเราอ่าน Documentation ครับ เพราะถ้าเกิดมีอะไรพัง เราจะเทียบได้ว่า Pandas ของเราเป็นเวอร์ชั่นตามใน Documentation มั้ย</p>

<p>print  (&laquo;Pandas version&raquo;,pandas.<strong>version</strong>)</p>

<h3 id="ว-ธ-การโหลดไฟล-csv-import">วิธีการโหลดไฟล์ CSV (Import)</h3>

<p>จุดเริ่มต้นของการทำ Data Exploration &amp; Analysis ใน Pandas ก็คือการโหลดไฟล์ข้อมูลแบบ CSV มาใช้งานนั่นเองครับ</p>

<p>เราสามารถใช้คำสั่ง .head หรือ .tail เพื่อดูข้อมูลแถวบนสุด หรือแถวล่างสุดได้</p>

<h1 id="read-df">Read DF</h1>

<pre><code class="language-py">csvdf = pd.read_csv('data.csv')
</code></pre>

<h1 id="sometimes-reading-csv-for-excel-need-encoding">Sometimes reading CSV for Excel need encoding</h1>

<pre><code class="language-py">csvdf = pd.read_csv('data.csv',encoding = &quot;ISO-8859-1&quot;)
</code></pre>

<h1 id="print-head-and-tail">Print head and tail</h1>

<pre><code class="language-py">csvdf.head()

csvdf.tail()
</code></pre>

<h3 id="ว-ธ-ส-มข-อม-ลสำหร-บเช-ค-sample">วิธีสุ่มข้อมูลสำหรับเช็ค (Sample)</h3>

<p>ปกติเราเช็คข้อมูลว่าถูกต้องมั้ยด้วย head กับ tail ซึ่งเป็นการเช็คจากด้านบนหรือด้านล่าง อีกวิธีที่น่าสนใจ คือ เช็คแบบสุ่มข้อมูลขึ้นมานั่นเองครับ ทำได้ง่าย ๆ โดยใช้</p>

<pre><code class="language-py">csvdf.sample()
</code></pre>

<h3 id="ว-ธ-เช-คข-อม-ลหาความผ-ดปกต-ใน-dataframe-เบ-องต-น">วิธีเช็คข้อมูลหาความผิดปกติใน DataFrame เบื้องต้น</h3>

<p>หลังจากโหลดข้อมูลมาแล้ว เราอยากรู้ว่าข้อมูลมีกี่แถว, Missing value เท่าไหร่, แต่ละคอลัมน์เป็น Data Type อะไรบ้าง ก็รันคำสั่งนี้ได้เลย มีประโยชน์มากครับ</p>

<pre><code class="language-py">df.info()
</code></pre>

<p><img src="https://cdn.shortpixel.ai/client/to_webp,q_lossy,ret_img,w_525/https://blog.datath.com/wp-content/uploads/2017/11/sample-info-pandas.jpg" alt="" /></p>

<p>df.info() จะแสดงสรุปข้อมูลมาให้</p>

<p>นอกจากนั้นยังมีคำสั่ง df.dtypes (ไม่มีวงเล็บ) สำหรับดู Data Type แต่ละคอลัมน์อย่างเดียว</p>

<h3 id="ว-ธ-แปลงประเภทข-อม-ล-data-type-ใน-data-frame">วิธีแปลงประเภทข้อมูล (Data Type) ใน Data Frame</h3>

<p>บางครั้งประเภทข้อมูลของคอลัมน์เป็น String แต่เราต้องการ Integer หรือเราต้องการ Date เราสามารถแปลงข้อมูลได้ง่าย ๆ ดังนี้เลยครับ</p>

<pre><code class="language-py">df['hour'] = pd.to_numeric(df['hour']) # แปลงเป็น Numeric

df['hour'] = df['hour'].astype('int') # อีกวิธีในการแปลงค่า สามารถใช้วิธีนี้แปลงเป็น float ได้
</code></pre>

<h3 id="ว-ธ-เช-ค-summary-ของแต-ละคอล-มน-count-min-max-mean">วิธีเช็ค Summary ของแต่ละคอลัมน์ (count, min, max, mean)</h3>

<p>ถ้าเราอยากรู้ Distribution คร่าว ๆ ของแต่ละคอลัมน์ว่าเป็นอย่างไร สามารถใช้คำสั่ง describe() ได้</p>

<p>df.describe()</p>

<h3 id="ว-ธ-เช-ค-summary-count-min-max-mean-แบบแยกกล-ม">วิธีเช็ค Summary (count, min, max, mean) แบบแยกกลุ่ม</h3>

<p>บางครั้งเราไม่ได้ต้องการรู้ Summary ของทั้งคอลัมน์ แต่อยากให้แยกตามแต่ละค่าในคอลัมน์นั้น ๆ ครับ ซึ่งมีประโยชน์มากเวลาเราทำ Data Analysis แล้วอยากรู้ว่าบางกลุ่มมีอะไรผิดปกติหรือเปล่า</p>

<pre><code class="language-py">test = df.groupby(['Gender'])

test.describe()
</code></pre>

<h3 id="ว-ธ-สร-าง-dataframe-ใหม">วิธีสร้าง DataFrame ใหม่</h3>

<p>วิธีสร้างแบบง่ายที่สุด ถ้าต้องการข้อมูลหลายรูปแบบ เราสามารถใช้ Dictionary แบบนี้เลยครับ</p>

<pre><code class="language-py">dataframe = pandas.DataFrame({

'C1': pandas.date_range('20170101', periods=4),

'C2' : [10,20,30,40],

'C3': pandas.Categorical(['A','B','C','D']),

'C4': 1})
</code></pre>

<p>แต่ถ้าเราต้องการแค่เป็นแบบตัวเลขทั่วไป ใช้ Numpy แบบนี้ได้เลย</p>

<pre><code class="language-py">array = numpy.array([(1,2,3), (4,5,6),(7,8,9)])

dataframe = pandas.DataFrame(array,columns=['C1','C2','C3'])
</code></pre>

<h3 id="ว-ธ-เล-อกหลายคอล-มน-จาก-dataframe">วิธีเลือกหลายคอลัมน์จาก DataFrame</h3>

<p>ปกติถ้าเราต้องการเลือกแค่ 1 Column ก็เขียนแบบนี้ได้เลย</p>

<pre><code class="language-py">df['C1']
</code></pre>

<p>แต่ถ้าต้องการเลือกหลายคอลัมน์ ให้ทำแบบนี้</p>

<pre><code class="language-py">df[['C1','C2']]
</code></pre>

<h3 id="ว-ธ-เล-อกคอล-มน-ตามเง-อนไขท-ต-องการ">วิธีเลือกคอลัมน์ตามเงื่อนไขที่ต้องการ</h3>

<p>บางทีเราอยาก Filter เฉพาะคอลัมน์ที่มีค่าตามที่เราต้องการโดยใช้ .loc ได้ โดยสามารถเลือก Filter แบบ .all() (ทุกค่าในคอลัมน์ต้องตรงตามเงื่อนไข) หรือ .any() (บางค่าในคอลัมน์ต้องตรงตามเงื่อนไข)</p>

<pre><code class="language-py">dataframe2 = dataframe.loc[:,(dataframe&gt;50).any()]

dataframe3 = dataframe.loc[:,(dataframe&gt;50).all()]
</code></pre>

<p>เราสามารถใช้หาคอลัมน์ที่มี Missing Values หรือหาคอลัมน์ที่ไม่มี Missing Values เลยก็ได้</p>

<pre><code class="language-py">dataframe2 = dataframe.loc[:,dataframe.isnull().any()]

dataframe3 = dataframe.loc[:,dataframe.notnull().all()]
</code></pre>

<h3 id="ว-ธ-เล-อกแถวตามเง-อนไขท-ต-องการ">วิธีเลือกแถวตามเงื่อนไขที่ต้องการ</h3>

<pre><code class="language-py">dataframe[dataframe['C1']&gt;50] # เงื่อนไขแบบง่าย ๆ

dataframe2 = dataframe.loc[dataframe.C1.isin([1,2,3])] # เงื่อนไขแบบซับซ้อน
</code></pre>

<p>ถ้ามีหลายเงื่อนไขเราสามารถใช้ &amp; (and) หรือ | (or) ได้</p>

<pre><code class="language-py">dataframe[(dataframe['C1']&gt;50) &amp; ((dataframe['C2']&lt;25) | (dataframe['C2']&gt;75))]
</code></pre>

<p>หรือใช้ Query เป็นเงื่อนไขได้ด้วย มีประโยชน์มากเวลาเรามีเงื่อนไขแปลก ๆ ไม่ต้องเขียนลูปขึ้นมาเองเลยครับ</p>

<pre><code class="language-py">dataframe2 = dataframe.query('C1 &gt; C2')
</code></pre>

<h3 id="ว-ธ-เพ-มคอล-มน-ใหม">วิธีเพิ่มคอลัมน์ใหม่</h3>

<p>สามารถเพิ่มคอลัมน์ใหม่ได้ 2 แบบ คือ</p>

<ol>
<li>เพิ่มโดยอิงจากคอลัมน์เดิม (เช่น เอาคอลัมน์เดิม + 10 หรือ เอาคอลัมน์ A – คอลัมน์ B มีประโยชน์มากตอนทำ Feature Engineering)</li>

<li><p>เพิ่มคอลัมน์โดยตั้งค่า Fix ไปเลยสำหรับทุกแถว ส่วนใหญ่จะใช้วิธีนี้เวลาเราอยากได้ค่าอะไรแปลก ๆ ที่ต้องเขียนลูปเพื่อใส่ค่า ก็สร้างคอลัมน์แบบ Fix ค่าก่อน แล้วต่อด้วยลูป</p>

<pre><code class="language-py">df['new'] = dataframe['old'] + 10 # use old values

df['new2'] = 5 # apply the same value
</code></pre></li>
</ol>

<h3 id="การสล-บ-row-column-transpose">การสลับ Row &lt;-&gt; Column (Transpose)</h3>

<p>ถ้าเราต้องการ Transpose (อารมณ์เหมือน Vector) เราสามารถใช้คำสั่งนี้ได้เลย</p>

<pre><code class="language-py">dataframe.T
</code></pre>

<h3 id="การต-อ-dataframe">การต่อ DataFrame</h3>

<p>การต่อ Data Frame คือการเอา Data Set 2 ชุดมาต่อกันในแถวตั้งหรือแนวนอน สำหรับการต่อแบบปะติดไปเลย</p>

<p>มี 2 คำสั่งที่เหมือนกัน คือ concat กับ append แต่ให้ใช้ concat ไปเลย เพราะ append เป็นคำสั่งที่ไม่ Memory Efficient</p>

<pre><code class="language-py">pd.concat([df1,df2], axis=1) # รวมกัน 2 คอลัมน์ (axis = 0 คือแถว, axis = 1 คือคอลัมน์)

pd.concat([df1,df2,df3)] # รวมมากกว่า 2 คอลัมน์ก็ได้

pd.concat(…, ignore_index=True) # รวมเสร็จแล้ว reset index ให้ด้วย ควรใช้ ไม่งั้นจะเจอ row ID ซ้ำกันตอนรวมร่าง

pd.concat(…, join='inner') # รวมร่างเฉพาะคอลัมน์ที่ df1 กับ df2 มีทั้งคู่

pd.concat(…, keys=['source1', 'source2']) # เพิ่มคอลัมน์เข้าไปด้วยเพื่อระบุว่า Row แต่ละอันมาจาก Data Frame อันไหน

pd.concat(…, join_axes=[df2.index]) # เลือกรวมร่างเฉพาะ row index ที่เรากำหนดได้
</code></pre>

<h3 id="การต-อ-dataframe-แบบ-join">การต่อ DataFrame แบบ Join</h3>

<p>ถ้าต้องการต่อ DataFrame แบบ Advance หน่อย เราก็สามารถ Join DataFrame ได้เหมือน Join Table ใครเขียน SQL มาก่อนน่าจะถนัดเลย</p>

<pre><code class="language-py">pd.merge(df1, df2, left_on=&quot;col1&quot;, right_on=&quot;col2&quot;, how=&quot;inner&quot;)
</code></pre>

<p>เราสามารถเปลี่ยนตรง how=”inner” เป็น “outer”, “left”, “right” เพื่อเปลี่ยนเป็น Outer Join, Left Join, Right Join ได้อีกด้วย</p>

<h3 id="การหาค-า-mean-sum-max-aggregate-แบบท-ง-dataframe">การหาค่า Mean, Sum, Max (Aggregate) แบบทั้ง DataFrame</h3>

<p>Pandas สามารถสั่ง Aggregate เพื่อหาค่า Mean, Sum, และ Max ได้เลย เหมาะมากเวลาเราต้องการรวบข้อมูลก่อนเอาไป Visualize หรือต้องการทำ Feature Engineering ก็ได้</p>

<pre><code class="language-py">newdf = df.agg(['sum', 'max','mean'])
</code></pre>

<h3 id="การ-aggregate-แบบตามกล-มท-ต-องการ">การ Aggregate แบบตามกลุ่มที่ต้องการ</h3>

<p>บางทีเราอยาก Aggregate ข้อมูลตามการจัดกลุ่มในคอลัมน์อื่น เช่น เราอยากได้รายจ่ายทั้งหมดของแต่ละคน (ต้อง aggregate sum ของคอลัมน์รายจ่าย โดยแบ่งกลุ่มตามคอลัมน์ User ID) ใช้แบบนี้</p>

<pre><code class="language-py">aggregate = dataframe.groupby('C1').sum()
</code></pre>

<h3 id="การร-น-function-เด-ยวก-นท-กแถว-หร-อท-กคอล-มน">การรัน Function เดียวกันทุกแถว หรือทุกคอลัมน์</h3>

<p>เวลาเราอยากรันคำสั่งอะไรสักอย่างสำหรับทุกแถว หรือทุกคอลัมน์ เราสามารถเขียนได้แบบนี้</p>

<h1 id="sum-for-columns">sum for columns</h1>

<pre><code class="language-py">sum_columns = dataframe[['C1','C2']].apply(sum,axis=0)
</code></pre>

<h1 id="sum-for-rows">sum for rows</h1>

<pre><code class="language-py">sum_rows = dataframe[['C1','C2']].apply(sum,axis=1)
</code></pre>

<p>เหมือนกับฟังก์ชั่น apply() ใน R นั่นเอง</p>

<h3 id="ร-นคำส-งท-เข-ยนเองก-บท-กแถวใน-1-คอล-มน">รันคำสั่งที่เขียนเองกับทุกแถวใน 1 คอลัมน์</h3>

<p>ถ้าต้องการรันคำสั่ง (Function) ที่เขียนเอง สำหรับทุกแถวในคอลัมน์อันใดอันหนึ่ง ใช้แบบนี้ได้</p>

<pre><code class="language-py">dataframe['C1'] = dataframe['C1'].map(lambda x: x-100)
</code></pre>

<h3 id="ร-นคำส-งท-เข-ยนเองก-บท-กค-า">รันคำสั่งที่เขียนเองกับทุกค่า</h3>

<p>ถ้าต้องการรันคำสั่งที่เขียนเองกับทุกค่าใน DataFrame ใช้โค้ดนี้</p>

<pre><code class="language-py">function_result = dataframe.applymap(lambda x: x*10)
</code></pre>

<p>หรือใช้ transform ก็ได้</p>

<pre><code class="language-py">new_dataframe = dataframe.transform(lambda x: x*100)
</code></pre>

<h3 id="คำนวณ-correlation-covariance">คำนวณ Correlation &amp; Covariance</h3>

<p>เวลาเราอยากรู้ว่าค่าต่าง ๆ ใน Data Set เรา Correlate กันมั้ย</p>

<pre><code class="language-py">dataframe.corr() # Correlation

dataframe.cov() # Covariance
</code></pre>

<p>แต่ค่าที่ออกมาเป็นตัวเลขอาจจะดูยากนิดนึง เราสามารถพลอตสวย ๆ ด้วย Seaborn ได้ครับ สามารถใช้โค้ดด้านล่างนี้ได้เลย</p>

<pre><code class="language-py">import seaborn as sns

corr = modeldf.corr()
</code></pre>

<h1 id="set-up-the-matplotlib-figure">Set up the matplotlib figure</h1>

<pre><code class="language-py">f, ax = plt.subplots(figsize=(15, 8))
</code></pre>

<h1 id="generate-a-custom-diverging-colormap">Generate a custom diverging colormap</h1>

<pre><code class="language-py">cmap = sns.diverging_palette(10, 10, as_cmap=True)
</code></pre>

<h1 id="draw-the-heatmap-with-the-mask-and-correct-aspect-ratio">Draw the heatmap with the mask and correct aspect ratio</h1>

<pre><code class="language-py">sns.heatmap(corr, annot=True)
</code></pre>

<p><img src="https://cdn.shortpixel.ai/client/to_webp,q_lossy,ret_img,w_861/https://blog.datath.com/wp-content/uploads/2017/11/seaborn-correlation-heatmap.jpg" alt="" />
Correlation Plot สวย ๆ ด้วย Seaborn</p>

<h3 id="คำนวณ-cross-tabulation">คำนวณ Cross Tabulation</h3>

<p>Cross Tabulation มีประโยชน์มากเวลาเราอยากรู้ว่ามี Data ที่ตรงกับกรุ๊ป A ของคอลัมน์ 1 และกรุ๊ป B ของคอลัมน์ 2 เท่าไหร่ เช่น มีนักเรียนผู้ชาย (คอลัมน์ gender) กี่คนในมัธยมปลาย (คอลัมน์ education) แบบนี้เป็นต้น</p>

<p>หรือถ้าใครใช้ PivotTable ใน Excel มาก่อน ก็เหมือนกันเลยครับ</p>

<pre><code class="language-py">aggregate = pandas.crosstab(dataframe.C1, dataframe.C2)
</code></pre>

<h3 id="ว-ธ-หาค-า-unique-ในแต-ละคอล-มน">วิธีหาค่า Unique ในแต่ละคอลัมน์</h3>

<p>คำสั่งนี้มีประโยชน์มาก เอาไว้ใช้เช็คว่าแต่ละคอลัมน์มีค่าแปลก ๆ มั้ย</p>

<p>ตัวอย่างการใช้งานก็คือ เราอยากรู้ว่า มีบ้านไหนที่มีจำนวนห้องนอนแปลก ๆ มั้ย (เช่น 50 ห้องนอน หรือ -5 ห้องนอน) ก็หาค่า unique จากคอลัมน์ “bedrooms”</p>

<pre><code class="language-py">dataframe['C1'].unique()
</code></pre>

<h3 id="ว-ธ-เช-คว-าม-แถวไหนข-อม-ลซ-ำม-ย-duplicated">วิธีเช็คว่ามีแถวไหนข้อมูลซ้ำมั้ย (Duplicated)</h3>

<p>อันนี้มีประโยชน์มาก เอาไว้ใช้เช็คว่ามีข้อมูลแปลก ๆ มั้ย เช่น ทุกคอลัมน์ซ้ำกันหมด (อันนี้มีโอกาสว่าเป็นข้อมูลซ้ำ อาจจะต้องลบออก) หรือซ้ำกันบางคอลัมน์ (อันนี้ต้องเช็คอีกทีว่าคืออะไร)</p>

<pre><code class="language-py">dataframe.duplicated() # หาอันที่เหมือนกันทุกคอลัมน์

dataframe.duplicated('C1') # หาอันที่ซ้ำกันเฉพาะคอลัมน์ C1

dataframe.duplicated(['C1', 'C2']) # หาอันที่ซ้ำกันเฉพาะคอลัมน์ C1 และ C2
</code></pre>

<p>ปกติแล้วถ้ามีไอเทมซ้ำ คำสั่งนี้จะไม่แสดงไอเทมแรกในกลุ่มที่ซ้ำ (เช่น ถ้า C1=5 มี 2 แถว มันจะแสดงเฉพาะแถวที่ 2) เราสามารถใส่ Argument  <strong>keep=False</strong>  เข้าไปเพื่อบังคับให้มันแสดงทุกแถวได้</p>

<p>นอกจากนั้นเรายังสามารถนับจำนวนแถวที่ Duplicate และลบทิ้งได้ด้วย</p>

<h3 id="ว-ธ-การน-บจำนวน-duplicate">วิธีการนับจำนวน Duplicate</h3>

<pre><code class="language-py">len(df[ df.duplicated(['A', 'B', 'C'], keep = False)  ])
</code></pre>

<h3 id="ว-ธ-การลบ-duplicate">วิธีการลบ Duplicate</h3>

<p>เอาไว้ใช้ตอนเราเจอว่าทุกคอลัมน์ซ้ำกันหมดเลย ซึ่งเป็นเคสที่บอกว่าข้อมูลน่าจะซ้ำ ลบออกได้ (ขึ้นอยู่กับข้อมูลด้วยนะครับ บางข้อมูลอาจจะไม่ได้แปลว่าซ้ำแล้วลบได้):</p>

<h1 id="remove-the-duplicates">Remove the duplicates</h1>

<pre><code class="language-py">df.drop_duplicates(['A', 'B', 'C'], inplace=True)
</code></pre>

<h1 id="reset-dataframe-index-after-drop-duplicates">Reset dataframe index after drop_duplicates.</h1>

<pre><code class="language-py">df.reset_index(drop=True, inplace=True)

len(df)
</code></pre>

<p>สำหรับโค้ดข้างบน จะเห็นว่าเราต้อง reset index หลังลบ duplicate ด้วยนะครับ</p>

<h3 id="ว-ธ-การลบแถว-และลบคอล-มน">วิธีการลบแถว และลบคอลัมน์</h3>

<p>ลบคอลัมน์สามารถทำได้แบบนี้</p>

<pre><code class="language-py">dataframe = dataframe.drop('C1', axis=1)

df.drop(['C1'], axis=1, inplace=True) # แบบนี้ก็ได้

df.drop(['C1', 'C2', 'C3'], 1, inplace=True) # ลบทีละหลายคอลัมน์ก็ได้
</code></pre>

<p>ส่วนการลบแถวจะลำบากหน่อย เพราะต้องใส่ Row Index (เลขที่อยู่ซ้ายสุดเวลาเราปรินท์ DataFrame)</p>

<pre><code class="language-py">dataframe = dataframe.drop(5, axis=0)

dataframe.reset_index(drop=True) # Reset index
</code></pre>

<p>ลบแถวแล้วอย่าลืมเช็คด้วยว่าที่ลบไปถูกต้องมั้ย และหลังจากลบแถวต้อง Reset Index ด้วย</p>

<h3 id="ว-ธ-การลบแถวท-ม-missing-value">วิธีการลบแถวที่มี Missing Value</h3>

<p><strong>ข้อควรระวัง:</strong>  การที่อยู่ ๆ เราลบแถวที่มี Missing Value ทิ้งไปเลยอาจจะไม่ใช่วิธีที่ดีที่สุดในการทำ Data Analysis เสมอไปนะครับ บางเคสการ Impute (คำนวณหาค่าไปใส่) จะดีกว่าครับ</p>

<pre><code class="language-py">dataframe2 = dataframe.dropna(axis=0)
</code></pre>

<h3 id="ว-ธ-แทนค-า-missing-value-ด-วยค-าเฉล-ย-mean-imputation">วิธีแทนค่า Missing Value ด้วยค่าเฉลี่ย (Mean Imputation)</h3>

<p>วิธีหนึ่งในการแทนค่าที่หายไป คือการทำสิ่งที่เรียกว่า Mean Imputation หรือหาค่าเฉลี่ยของคอลัมน์นั้น แล้วเอามาแทนค่าที่หายไปนั่นเองครับ</p>

<p>ข้อดีของการทำ Mean Imputation คือ สามารถทำได้ง่าย แต่ก็ต้องระวังเรื่องข้อเสีย เช่น ทำแบบนี้จะเป็นการไม่สนใจความสัมพันธ์ระหว่างตัวแปร ทำให้เกิด Bias สูง ควรใช้เฉพาะเวลา Missing Value ไม่เยอะเท่านั้นครับ</p>

<p>สามารถรันโค้ดด้านล่างเพื่อทำ Mean Imputation ได้ง่าย ๆ เลย</p>

<pre><code class="language-py">import numpy as np

meanAge = np.mean(df.Age) # Get mean value

df.Age = df.Age.fillna(meanAge) # Fill missing values with mean
</code></pre>

<h3 id="การล-ปข-อม-ลแต-ละคอล-มน-และแต-ละแถว">การลูปข้อมูลแต่ละคอลัมน์ และแต่ละแถว</h3>

<p>การลูปมีประโยชน์มากถ้าเราต้องการเขียนฟังก์ชั่นแปลก ๆ ใช้เองที่ Pandas ไม่รองรับ (หรืออาจจะรองรับแต่เราหาไม่เจอ เขียนเองง่ายกว่า) สามารถลูปได้ทั้งแต่ละคอลัมน์ และแต่ละแถว</p>

<pre><code class="language-py">for col_idx,data in dataframe.iteritems():

	print  (&quot;column:&quot;,col_idx)
	print  (&quot;column data:&quot;)
	print  (data,&quot;\n&quot;)
</code></pre>

<p>การลูปข้อมูลแต่ละแถว</p>

<pre><code class="language-py">for col_idx,data in dataframe.iterrows():

print  (&quot;row:&quot;,col_idx)
print  (&quot;row data:&quot;)
print  (data,&quot;\n&quot;)
</code></pre>

<h3 id="ว-ธ-เปล-ยน-dataframe-จากแบบ-wide-เป-น-long-melt">วิธีเปลี่ยน DataFrame จากแบบ Wide เป็น Long (Melt)</h3>

<p>การ Melt Data มีประโยชน์มากเวลาเราต้องการเอาข้อมูลไปพลอต Data Visualization หรือเราต้องการ Aggregate ครับ</p>

<p>dataframe2 = dataframe.melt()</p>

<h3 id="ว-ธ-การเปล-ยนช-อคอล-มน-rename">วิธีการเปลี่ยนชื่อคอลัมน์ (Rename)</h3>

<p>บางทีเราต้องการเปลี่ยนชื่อเพื่อให้สั้นลง ให้พิมพ์สะดวกขึ้น สามารถทำได้ดังนี้</p>

<pre><code class="language-py">dataframe.rename(columns={'old':'new'},inplace=True)
</code></pre>

<h3 id="ว-ธ-การใส-คำนำหน-าคอล-มน-prefix">วิธีการใส่คำนำหน้าคอลัมน์ (Prefix)</h3>

<p>อันนี้มีประโยชน์มากตอนเรามีข้อมูลหลาย ๆ ชุด และต้องการ Merge โดยอยากให้ชื่อคอลัมน์ไม่ซ้ำกัน</p>

<pre><code class="language-py">thisdata = thisdata.add_prefix('data_')
</code></pre>

<h3 id="ว-ธ-การแทนค-าใน-dataframe">วิธีการแทนค่าใน DataFrame</h3>

<p>เหมาะมากเวลาต้องการแก้ Typo Error เช่น เราอยากได้ค่า Bangkok แต่เรารู้ว่ามีคนเขียนเป็น BKK อะไรแบบนี้ (รันคำสั่ง .unique เพื่อดูก่อน)</p>

<p>เราสามารถ Replace ทั้ง DataFrame ได้เลยแบบนี้</p>

<pre><code class="language-py">dataframe2 = dataframe.replace(1, -100)
</code></pre>

<p>เราสามารถ Replace หลายค่าพร้อมกันได้ด้วยครับ และสามารถกำหนด Column ที่ต้องการให้แทนค่าได้ด้วย</p>

<pre><code class="language-py">df['city'].replace({

'BKK':'Bangkok',

'BNK':'Bangkok'

}, inplace=True)
</code></pre>

<h3 id="ว-ธ-การ-export-dataframe-เป-นไฟล-csv">วิธีการ Export DataFrame เป็นไฟล์ CSV</h3>

<p>หลังจากที่เราจัดการ Data เรียบร้อยแล้ว ก็สามารถ Export เป็น CSV เอาไปใช้ต่อกับโปรแกรมอื่น หรืองานส่วนอื่น ๆ ได้ (แอดทำบ่อยเพราะบางทีต้องสลับ Python &lt;-&gt; R รัว ๆ)</p>

<pre><code class="language-py">dataframe.to_csv('dataframe.csv')
</code></pre>

<blockquote>
<p>Reference : <a href="https://blog.datath.com/cheatsheet-pandas/" target="_blank">https://blog.datath.com/cheatsheet-pandas/</a></p>
</blockquote>

    </div>

    

<div class="article-tags">
  
  <a class="badge badge-light" href="/coding/tags/cheat-sheet/">Cheat Sheet</a>
  
</div>



    
      








  
  
    
  
  





  
  
  
    
  
  
  <div class="media author-card" itemscope itemtype="http://schema.org/Person">
    

    <div class="media-body">
      <h5 class="card-title" itemprop="name"><a href="https://dragon-library.github.io/coding/">Little Dragon</a></h5>
      <h6 class="card-subtitle">Professor of Artificial Intelligence</h6>
      <p class="card-text" itemprop="description">My research interests include distributed robotics, mobile computing and programmable matter.</p>
      <ul class="network-icon" aria-hidden="true">
        
          
          
          
            
          
          
          
          
          
            
          
          <li>
            <a itemprop="sameAs" href="/coding/#contact" >
              <i class="fas fa-envelope"></i>
            </a>
          </li>
        
          
          
          
            
          
          
          
          
          
            
          
          <li>
            <a itemprop="sameAs" href="https://twitter.com/GeorgeCushen" target="_blank" rel="noopener">
              <i class="fab fa-twitter"></i>
            </a>
          </li>
        
          
          
          
          
          
          
          
            
          
          <li>
            <a itemprop="sameAs" href="https://scholar.google.co.uk/citations?user=sIwtMXoAAAAJ" target="_blank" rel="noopener">
              <i class="ai ai-google-scholar"></i>
            </a>
          </li>
        
          
          
          
            
          
          
          
          
          
            
          
          <li>
            <a itemprop="sameAs" href="https://github.com/gcushen" target="_blank" rel="noopener">
              <i class="fab fa-github"></i>
            </a>
          </li>
        
      </ul>
    </div>
  </div>



      
      
    

    
    <div class="article-widget">
      
<div class="post-nav">
  
  
  
  <div class="post-nav-item box ">
    <div class="meta-nav meta-prev">Next <br>
    <a href="/coding/post/python/tutorials/change-output-pandas-in-jupyter/" rel="next">ปรับเปลี่ยนการแสดงผล pandas ใน jupyter</a></div>
  </div>
  
  
  
  <div class="post-nav-item box">
    <div class="meta-nav meta-next" >Previous <br>
    <a href="/coding/post/python/tutorials/manage-sql-sqlalchemy/" rel="prev">จัดการฐานข้อมูล SQL ด้วย sqlalchemy</a></div>
  </div>
  
  <br>
  <br>
</div>

    </div>
    

    


  </div>
</article>

      

    
    
    
    <script src="/coding/js/mathjax-config.js"></script>
    

    
    
    
      <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
      <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery.imagesloaded/4.1.4/imagesloaded.pkgd.min.js" integrity="sha256-lqvxZrPLtfffUl2G/e7szqSvPBILGbwmsGE1MKlOi0Q=" crossorigin="anonymous"></script>
      <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery.isotope/3.0.6/isotope.pkgd.min.js" integrity="sha256-CBrpuqrMhXwcLLUd5tvQ4euBHCdh7wGlDfNz8vbu/iI=" crossorigin="anonymous"></script>
      <script src="https://cdnjs.cloudflare.com/ajax/libs/fancybox/3.2.5/jquery.fancybox.min.js" integrity="sha256-X5PoE3KU5l+JcX+w09p/wHl9AzK333C4hJ2I9S5mD4M=" crossorigin="anonymous"></script>

      

      
        
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.15.6/highlight.min.js" integrity="sha256-aYTdUrn6Ow1DDgh5JTc3aDGnnju48y/1c8s1dgkYPQ8=" crossorigin="anonymous"></script>
        
        <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.15.6/languages/python.min.js"></script>
        
      

      
      
      <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.4/MathJax.js?config=TeX-AMS_CHTML-full" integrity="sha256-GhM+5JHb6QUzOQPXSJLEWP7R73CbkisjzK5Eyij4U9w=" crossorigin="anonymous" async></script>
      
    

    
    

    
    
    

    
    
    <script>hljs.initHighlightingOnLoad();</script>
    

    
    
    <script>
      const search_index_filename = "/coding/index.json";
      const i18n = {
        'placeholder': "Search...",
        'results': "results found",
        'no_results': "No results found"
      };
      const content_type = {
        'post': "Posts",
        'project': "Projects",
        'publication' : "Publications",
        'talk' : "Talks"
        };
    </script>
    

    
    

    
    
    <script id="search-hit-fuse-template" type="text/x-template">
      <div class="search-hit" id="summary-{{key}}">
      <div class="search-hit-content">
        <div class="search-hit-name">
          <a href="{{relpermalink}}">{{title}}</a>
          <div class="article-metadata search-hit-type">{{type}}</div>
          <p class="search-hit-description">{{snippet}}</p>
        </div>
      </div>
      </div>
    </script>
    

    
    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/3.2.1/fuse.min.js" integrity="sha256-VzgmKYmhsGNNN4Ph1kMW+BjoYJM2jV5i4IlFoeZA9XI=" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/jquery.mark.min.js" integrity="sha256-4HLtjeVgH0eIB3aZ9mLYF6E8oU5chNdjU6p6rrXpl9U=" crossorigin="anonymous"></script>
    

    
    

    
    
    
    
    
    
    
    
    
      
    
    
    
    
    <script src="/coding/js/academia.min.e4fc229c2f28284fc2dfa5b66a52b765.js"></script>

    






  
  <div class="container">
    <footer class="site-footer">

  <div class="container">
    <div class="row">
      <div class="col-md-6">
        
        <p>
          
          Powered by
          <a href="https://themefisher.com" target="_blank" rel="noopener">themefisher</a> for
          <a href="https://gohugo.io" target="_blank" rel="noopener">Hugo</a>.
        </p>
      </div>
      <div class="col-md-6">
        <ul class="list-inline network-icon text-right">
          
          
          
          
          
          
          
          
          
          
          
          
          
          <li class="list-inline-item">
            <a href="https://twitter.com/Twitter" target="_blank" rel="noopener" title="DM Me"><i class="fab fa-twitter" aria-hidden="true"></i></a>
          </li>
          
          
          
          
          
          
          
          
          
          
          <li class="list-inline-item">
            <a href="skype:echo123?call"  title="Skype Me"><i class="fab fa-skype" aria-hidden="true"></i></a>
          </li>
          
          
          
          
          
          
          
          
          
          
          
          
          <li class="list-inline-item">
            <a href="https://keybase.io/" target="_blank" rel="noopener" title="Chat on Keybase"><i class="fab fa-keybase" aria-hidden="true"></i></a>
          </li>
          
          
          
          
          
          
          
          
          
          
          
          
          <li class="list-inline-item">
            <a href="https://discourse.gohugo.io" target="_blank" rel="noopener" title="Discuss on Forum"><i class="fas fa-comments" aria-hidden="true"></i></a>
          </li>
          
        </ul>
      </div>
    </div>
  </div>
</footer>
  </div>
  

  
<div id="modal" class="modal fade" role="dialog">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title">Cite</h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
        <pre><code class="tex hljs"></code></pre>
      </div>
      <div class="modal-footer">
        <a class="btn btn-outline-primary my-1 js-copy-cite" href="#" target="_blank">
          <i class="fas fa-copy"></i> Copy
        </a>
        <a class="btn btn-outline-primary my-1 js-download-cite" href="#" target="_blank">
          <i class="fas fa-download"></i> Download
        </a>
        <div id="modal-error"></div>
      </div>
    </div>
  </div>
</div>

</body>
</html>
